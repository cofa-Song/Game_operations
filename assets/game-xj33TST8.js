const u=t=>new Promise(e=>setTimeout(e,t)),p=["PG","JILI","EVOLUTION","PP","JDB"],A={PG:["Mahjong Ways 2","Lucky Neko","Treasures of Aztec"],JILI:["Super Ace","Golden Empire","Boxing King"],EVOLUTION:["Crazy Time","Lightning Roulette","Baccarat A"],PP:["Gates of Olympus","Sweet Bonanza"],JDB:["Birds Party","Dragon Master"]},g=[],O=()=>{const t=new Date;for(let e=0;e<200;e++){const r=p[Math.floor(Math.random()*p.length)],_=A[r],d=_[Math.floor(Math.random()*_.length)],l=Math.random()<.05,i=Math.random()<.1?0:Math.floor(Math.random()*1e3)+10;let o=0;Math.random()>.6&&(o=Math.floor(i*(Math.random()*5)));let n="SETTLED";l&&(n="void");let m=o-i,c=i;n==="void"&&(c=0,o=0,m=0);const T=Math.floor(Math.random()*7*24*60*60*1e3),s=new Date(t.getTime()-T),y=new Date(s.getTime()-(Math.floor(Math.random()*3e5)+1e3)),v=`GID_${Math.random().toString(36).substr(2,9).toUpperCase()}`,E={transaction_id:v,vendor:r,game:d,user:`P${1e4+Math.floor(Math.random()*20)}`,amount_bet:i,amount_win:o,status:n,ts:s.getTime()};g.push({id:v,provider_id:r,provider_round_id:`R_${Math.random().toString(36).substr(2,12)}`,game_name:d,player_id:`P${1e4+Math.floor(Math.random()*20)}`,bet_amount:i,win_amount:o,net_amount:m,valid_turnover:c,settle_time:s.toISOString(),create_time:y.toISOString(),status:n,raw_json:JSON.stringify(E),currency:"SILVER"})}g.sort((e,r)=>new Date(r.settle_time).getTime()-new Date(e.settle_time).getTime())};O();const G={getLogs:async t=>{await u(300);let e=[...g];if(t.player_id&&(e=e.filter(a=>a.player_id.includes(t.player_id))),t.provider&&(e=e.filter(a=>a.provider_id===t.provider)),t.game_name&&(e=e.filter(a=>a.game_name.toLowerCase().includes(t.game_name.toLowerCase()))),t.round_id&&(e=e.filter(a=>a.provider_round_id.includes(t.round_id))),t.date_start&&t.date_end){const a=new Date(t.date_start).getTime(),i=new Date(t.date_end).getTime();e=e.filter(o=>{const n=new Date(o.settle_time).getTime();return n>=a&&n<=i})}const r=e.length,_=(t.page-1)*t.page_size,d=_+t.page_size;return{code:0,msg:"success",data:{list:e.slice(_,d),total:r}}}},L=(t,e)=>e>0?e:t;let f=[{id:"G001",provider_id:"PV-001",provider_game_id:"PG_MAHJONG2",type_id:"T001",name:"麻將胡了2",name_en:"Mahjong Ways 2",cumulative_turnover:125e4,total_bet:125e4,total_payout:1187500,marketing_tag:"HOT",tag_source:"AUTO",type_rate:100,tag_rate:150,final_rate:150,allowed_currencies:["GOLD","SILVER"],min_vip_level:0,sort_order:1,status:"ACTIVE",updated_at:"2026-01-29T10:00:00Z",profit_rate:5},{id:"G002",provider_id:"PV-001",provider_game_id:"PG_NEKO",type_id:"T001",name:"招財貓",name_en:"Lucky Neko",cumulative_turnover:85e4,total_bet:85e4,total_payout:807500,marketing_tag:"RECOMMENDED",tag_source:"MANUAL",type_rate:100,tag_rate:120,final_rate:120,allowed_currencies:["GOLD"],min_vip_level:0,sort_order:3,status:"ACTIVE",updated_at:"2026-01-28T14:00:00Z",profit_rate:5},{id:"G003",provider_id:"PV-001",provider_game_id:"PG_AZTEC",type_id:"T001",name:"阿茲特克寶藏",name_en:"Treasures of Aztec",cumulative_turnover:45e4,total_bet:45e4,total_payout:427500,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["GOLD","SILVER"],min_vip_level:0,sort_order:10,status:"ACTIVE",updated_at:"2026-01-20T10:00:00Z",profit_rate:5},{id:"G004",provider_id:"PV-003",provider_game_id:"JILI_SUPERACE",type_id:"T001",name:"超級王牌",name_en:"Super Ace",cumulative_turnover:21e5,total_bet:21e5,total_payout:1995e3,marketing_tag:"DOUBLE_TURNOVER",tag_source:"MANUAL",type_rate:100,tag_rate:200,final_rate:200,allowed_currencies:["GOLD","SILVER"],min_vip_level:0,sort_order:2,status:"ACTIVE",updated_at:"2026-01-27T16:00:00Z",profit_rate:5},{id:"G005",provider_id:"PV-003",provider_game_id:"JILI_EMPIRE",type_id:"T001",name:"黃金帝國",name_en:"Golden Empire",cumulative_turnover:68e4,total_bet:68e4,total_payout:646e3,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["GOLD"],min_vip_level:1,sort_order:8,status:"ACTIVE",updated_at:"2026-01-25T10:00:00Z",profit_rate:5},{id:"G006",provider_id:"PV-003",provider_game_id:"JILI_BOXING",type_id:"T001",name:"拳擊之王",name_en:"Boxing King",cumulative_turnover:12e4,total_bet:12e4,total_payout:114e3,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["SILVER"],min_vip_level:0,sort_order:20,status:"MAINTENANCE",updated_at:"2026-01-15T09:00:00Z",profit_rate:5},{id:"G007",provider_id:"PV-002",provider_game_id:"EVO_CRAZYTIME",type_id:"T002",name:"瘋狂時刻",name_en:"Crazy Time",cumulative_turnover:35e5,total_bet:35e5,total_payout:3325e3,marketing_tag:"HOT",tag_source:"AUTO",type_rate:80,tag_rate:150,final_rate:150,allowed_currencies:["GOLD"],min_vip_level:0,sort_order:1,status:"ACTIVE",updated_at:"2026-01-29T08:00:00Z",profit_rate:5},{id:"G008",provider_id:"PV-002",provider_game_id:"EVO_LIGHTNING",type_id:"T002",name:"閃電輪盤",name_en:"Lightning Roulette",cumulative_turnover:18e5,total_bet:18e5,total_payout:171e4,marketing_tag:"RECOMMENDED",tag_source:"AUTO",type_rate:80,tag_rate:120,final_rate:120,allowed_currencies:["GOLD"],min_vip_level:2,sort_order:5,status:"ACTIVE",updated_at:"2026-01-28T10:00:00Z",profit_rate:5},{id:"G009",provider_id:"PV-002",provider_game_id:"EVO_BACCARAT_A",type_id:"T002",name:"百家樂 A",name_en:"Baccarat A",cumulative_turnover:52e5,total_bet:52e5,total_payout:494e4,marketing_tag:null,tag_source:"AUTO",type_rate:80,tag_rate:0,final_rate:80,allowed_currencies:["GOLD"],min_vip_level:3,sort_order:4,status:"ACTIVE",updated_at:"2026-01-26T14:00:00Z",profit_rate:5},{id:"G010",provider_id:"PV-004",provider_game_id:"PP_GATES",type_id:"T001",name:"眾神之門",name_en:"Gates of Olympus",cumulative_turnover:98e4,total_bet:98e4,total_payout:931e3,marketing_tag:"HOT",tag_source:"MANUAL",type_rate:100,tag_rate:150,final_rate:150,allowed_currencies:["GOLD","SILVER"],min_vip_level:0,sort_order:6,status:"ACTIVE",updated_at:"2026-01-28T12:00:00Z",profit_rate:5},{id:"G011",provider_id:"PV-004",provider_game_id:"PP_BONANZA",type_id:"T001",name:"甜蜜糖果",name_en:"Sweet Bonanza",cumulative_turnover:62e4,total_bet:62e4,total_payout:589e3,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["GOLD"],min_vip_level:0,sort_order:12,status:"ACTIVE",updated_at:"2026-01-22T10:00:00Z",profit_rate:5},{id:"G012",provider_id:"PV-006",provider_game_id:"KY_BIRD",type_id:"T001",name:"捕鳥達人",name_en:"Birds Party",cumulative_turnover:35e4,total_bet:35e4,total_payout:332500,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["SILVER","BRONZE"],min_vip_level:0,sort_order:15,status:"MAINTENANCE",updated_at:"2026-01-20T08:00:00Z",profit_rate:5},{id:"G013",provider_id:"PV-006",provider_game_id:"KY_DRAGON",type_id:"T001",name:"神龍寶藏",name_en:"Dragon Master",cumulative_turnover:18e4,total_bet:18e4,total_payout:171e3,marketing_tag:null,tag_source:"AUTO",type_rate:100,tag_rate:0,final_rate:100,allowed_currencies:["GOLD","BRONZE","SILVER"],min_vip_level:1,sort_order:18,status:"ACTIVE",updated_at:"2026-01-18T10:00:00Z",profit_rate:5}];const M={getGames:async t=>{await u(300);let e=[...f];t.provider_id&&(e=e.filter(a=>a.provider_id===t.provider_id)),t.type_id&&(e=e.filter(a=>a.type_id===t.type_id)),t.game_id&&(e=e.filter(a=>a.id.includes(t.game_id)||a.provider_game_id.toLowerCase().includes(t.game_id.toLowerCase()))),t.name&&(e=e.filter(a=>a.name.includes(t.name)||a.name_en.toLowerCase().includes(t.name.toLowerCase()))),t.status&&(e=e.filter(a=>a.status===t.status)),t.marketing_tag!==void 0&&(e=e.filter(a=>a.marketing_tag===t.marketing_tag)),t.tag_source&&(e=e.filter(a=>a.tag_source===t.tag_source)),(t.date_start||t.date_end)&&(e=e.map(a=>({...a,cumulative_turnover:a.cumulative_turnover*(.8+Math.random()*.4),total_bet:a.total_bet*(.8+Math.random()*.4),total_payout:a.total_payout*(.8+Math.random()*.4)})));const r=e.length,_=(t.page-1)*t.page_size,d=_+t.page_size;return{code:0,msg:"success",data:{list:e.slice(_,d),total:r}}},updateGame:async(t,e)=>{await u(300);const r=f.find(_=>_.id===t);return r?(e.marketing_tag!==void 0&&(r.marketing_tag=e.marketing_tag,r.tag_source="MANUAL",e.marketing_tag==="HOT"?r.tag_rate=150:e.marketing_tag==="RECOMMENDED"?r.tag_rate=120:e.marketing_tag==="DOUBLE_TURNOVER"?r.tag_rate=200:r.tag_rate=0,e.final_rate===void 0&&(r.final_rate=L(r.type_rate,r.tag_rate))),e.final_rate!==void 0&&(r.final_rate=e.final_rate),e.allowed_currencies&&(r.allowed_currencies=e.allowed_currencies),e.min_vip_level!==void 0&&(r.min_vip_level=e.min_vip_level),e.sort_order!==void 0&&(r.sort_order=e.sort_order),e.status&&(r.status=e.status),e.profit_rate!==void 0&&(r.profit_rate=e.profit_rate),r.updated_at=new Date().toISOString(),{code:0,msg:"success"}):{code:404,msg:"遊戲不存在"}}};export{M as a,G as g};
