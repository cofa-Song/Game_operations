import{e as re,v as A,w as t,s as _,A as xe,P as ye,o as _e,E as r,D as c,F as n,U as C,G as d,J as y,T as H,$ as J,K as k,Y as we,Z as K,a1 as Q,I as Oe,H as Se,r as p,a0 as Z,L as ee,C as Ce,W as B,h as f,_ as ke}from"./index-BsKuKuBe.js";import{i as j,L as te}from"./index-D5fw03LZ.js";import{B as De}from"./BarChartOutline-y_vuBcKw.js";import{F as Ie,T as Ae}from"./TimeOutline-ohYVWl4i.js";import{S as Ne}from"./Search-CuvCQVWn.js";import{S as Ee}from"./Scrollbar-F5vu7JFd.js";import{N as E}from"./Icon-CbayTH31.js";import{N as Me}from"./DatePicker-CVYfnur-.js";import{N as Le}from"./Select-CCDzjsmj.js";import{N as Re}from"./DataTable-D5mRR0cm.js";import{N as $e}from"./InputNumber-BMu_ZOnr.js";import{N as se}from"./Space-Cf9Hs1lp.js";import{N as M}from"./Tag-I3_cH6qL.js";import"./use-keyboard-kkRvbDTj.js";import"./Popover-CfBNgOAF.js";import"./use-compitable-BjMNwQgq.js";import"./Forward-CBwL8ab_.js";import"./create-Bj8PAPmY.js";import"./Empty-DtuLCoXR.js";import"./Radio-C5fS5KPL.js";import"./RadioGroup-CgIVku-C.js";import"./Tooltip-XZFA5Owl.js";import"./Dropdown-CcmdnIk3.js";import"./create-ref-setter-C4J8sofl.js";import"./Pagination-BLbp2o8H.js";import"./Add-BJRbFrfV.js";const Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Fe=re({name:"PieChartOutline",render:function(s,i){return _(),A("svg",Pe,i[0]||(i[0]=[t("path",{d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),t("path",{d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),ae=["iOS-IAP","Android-IAP","Web-CreditCard","Web-ATM","MyCard"],oe=["SUCCESS","SUCCESS","SUCCESS","FAILED","PENDING","EXPIRED","REFUNDED"],le=["100 鑽石","500 鑽石","1000 鑽石","新手特惠包","月卡","至尊禮包"];function Te(u){return u.includes("IAP")?.3:u==="Web-CreditCard"?.03:.05}const ne=Array.from({length:150}).map((u,s)=>{const i=ae[Math.floor(Math.random()*ae.length)],b=oe[Math.floor(Math.random()*oe.length)],h=[100,300,500,1e3,3e3,5e3][Math.floor(Math.random()*6)],g=Math.floor(h*Te(i)),a=new Date;return a.setDate(a.getDate()-Math.floor(Math.random()*10)),a.setHours(Math.floor(Math.random()*24),Math.floor(Math.random()*60)),{id:`ORD${2024e4+s}`,externalId:`TXN${Math.random().toString(36).substring(2,10).toUpperCase()}`,playerId:`P${1e4+Math.floor(Math.random()*1e3)}`,account:`user_${Math.floor(Math.random()*1e3)}`,channel:i,productName:le[Math.floor(Math.random()*le.length)],amount:h,fee:g,netAmount:h-g,status:b,createdAt:a.toISOString(),updatedAt:new Date(a.getTime()+36e5).toISOString(),isTest:s<5}}),D=(u=300)=>new Promise(s=>setTimeout(s,u)),I={async list(u){await D();let s=[...ne];return u.playerId&&(s=s.filter(i=>i.playerId.includes(u.playerId)||i.account.includes(u.playerId))),u.status&&u.status.length&&(s=s.filter(i=>u.status.includes(i.status))),u.channel&&u.channel.length&&(s=s.filter(i=>u.channel.includes(i.channel))),u.id&&(s=s.filter(i=>i.id===u.id||i.externalId===u.id)),u.includeTest||(s=s.filter(i=>!i.isTest)),{code:0,msg:"success",data:{items:s.slice(0,10),total:s.length}}},async stats(u){await D();const s=ne.filter(a=>!a.isTest),i=s.filter(a=>a.status==="SUCCESS"||a.status==="MANUAL"),b=i.reduce((a,m)=>a+m.amount,0),h=i.reduce((a,m)=>a+m.fee,0),g={};return i.forEach(a=>{g[a.channel]=(g[a.channel]||0)+a.amount}),{code:0,msg:"success",data:{totalAmount:b,totalFee:h,totalCount:i.length,channelDonut:Object.entries(g).map(([a,m])=>({name:a,value:m})),costDonut:Object.entries(g).map(([a,m])=>({name:a,value:Math.floor(m*.1)})),statusDonut:[{name:"成功",value:i.length},{name:"失敗",value:s.filter(a=>a.status==="FAILED").length},{name:"待處理",value:s.filter(a=>a.status==="PENDING").length}]}}},async trend(u){return await D(),{code:0,msg:"success",data:Array.from({length:7}).map((i,b)=>{const h=new Date;return h.setDate(h.getDate()-(6-b)),{time:h.toISOString().split("T")[0],successAmount:5e4+Math.random()*5e4,totalCount:100+Math.floor(Math.random()*50),failedCount:Math.floor(Math.random()*10)}})}},async sync(u){return await D(1e3),{code:0,msg:"查單完成，狀態已同步"}},async manualComplete(u,s){return await D(500),{code:0,msg:"人工補單成功"}},async logs(u){await D();const s=new Date().toISOString();return{code:0,msg:"success",data:[{time:s,action:"建立訂單",statusBefore:null,statusAfter:"PENDING",operator:"SYSTEM",ip:"127.0.0.1"},{time:s,action:"三方通知",statusBefore:"PENDING",statusAfter:"SUCCESS",operator:"PAYMENT_GATEWAY",ip:"192.168.1.1",rawDetail:'{"status":"ok","txn_id":"ABC123"}'}]}}},Ue={class:"premium-container p-6 min-h-full"},ze={class:"content-wrapper space-y-8 relative z-10"},Be={class:"tech-card p-5 group hover:shadow-xl transition-all duration-300"},je={class:"flex items-start justify-between"},Ge={class:"text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"},We={class:"text-3xl font-mono font-bold text-slate-800 tracking-tighter flex items-end gap-1"},Ve={class:"p-2 bg-blue-50 rounded-lg text-blue-500 shadow-sm"},Xe={class:"tech-card p-5 group hover:shadow-xl transition-all duration-300"},Ye={class:"flex items-start justify-between"},qe={class:"text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"},He={class:"text-3xl font-mono font-bold text-slate-800 tracking-tighter flex items-end gap-1"},Je={class:"p-2 bg-indigo-50 rounded-lg text-indigo-500 shadow-sm"},Ke={class:"mt-2 text-xs text-slate-500 font-mono"},Qe={class:"font-bold text-indigo-600"},Ze={class:"tech-card p-5 group hover:shadow-xl transition-all duration-300"},et={class:"flex items-start justify-between"},tt={class:"text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"},st={class:"text-3xl font-mono font-bold text-slate-800 tracking-tighter flex items-end gap-1"},at={class:"p-2 bg-emerald-50 rounded-lg text-emerald-500 shadow-sm"},ot={class:"mt-2 text-[10px] text-slate-400 flex justify-between uppercase font-bold"},lt={class:"tech-card p-5 group hover:shadow-xl transition-all duration-300"},nt={class:"flex items-start justify-between"},rt={class:"text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"},it={class:"text-3xl font-mono font-bold text-slate-800 tracking-tighter"},dt={class:"p-2 bg-orange-50 rounded-lg text-orange-500 shadow-sm"},ct={class:"flex items-center gap-1 mt-2"},ut={class:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter"},ft={class:"text-[10px] text-orange-500 font-bold uppercase"},pt={class:"tech-card h-full"},mt={class:"p-5 border-b border-slate-100 flex items-center justify-between bg-slate-50/30"},ht={class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},gt={class:"p-6"},vt={class:"flex flex-col gap-6"},bt={class:"tech-card"},xt={class:"p-4 border-b border-slate-100 text-[10px] text-slate-400 uppercase tracking-widest font-black"},yt={class:"p-4 flex flex-col items-center"},_t={class:"tech-card"},wt={class:"p-4 border-b border-slate-100 text-[10px] text-slate-400 uppercase tracking-widest font-black"},Ot={class:"p-4 flex flex-col items-center"},St={class:"tech-card overflow-hidden"},Ct={class:"p-6 flex flex-wrap gap-6 items-end bg-slate-50/50 border-b border-slate-100"},kt={class:"form-item"},Dt={class:"text-[10px] text-slate-400 uppercase mb-1 font-black"},It={class:"form-item"},At={class:"text-[10px] text-slate-400 uppercase mb-1 font-black"},Nt={class:"form-item"},Et={class:"text-[10px] text-slate-400 uppercase mb-1 font-black"},Mt={class:"p-6 space-y-6"},Lt={class:"flex justify-between items-center mb-2"},Rt={class:"font-black text-slate-700 tracking-tight"},$t={class:"text-[10px] text-slate-400 font-mono"},Pt={class:"flex items-center gap-3 text-xs mb-3"},Ft={key:1,class:"text-slate-300"},Tt={key:0,class:"raw-box-light text-[11px] font-mono p-4 bg-slate-900 text-blue-300 rounded-lg shadow-inner overflow-x-auto"},Ut={class:"mt-3 text-[10px] text-slate-400 font-bold uppercase tracking-widest flex gap-4"},zt=re({__name:"DepositOrders",setup(u){const{t:s}=xe(),i=ye(),b=p(!1),h=p(!1),g=p(!1),a=p(null),m=p([]),G=p([]),W=p(0),L=p(null),R=p(null),$=p(null),x=Z({timeRange:[Date.now()-7*24*3600*1e3,Date.now()],playerId:"",status:[],channel:[],id:"",includeTest:!1}),ie=[{label:s("finance.depositOrder.status.PENDING"),value:"PENDING"},{label:s("finance.depositOrder.status.SUCCESS"),value:"SUCCESS"},{label:s("finance.depositOrder.status.FAILED"),value:"FAILED"},{label:s("finance.depositOrder.status.EXPIRED"),value:"EXPIRED"},{label:s("finance.depositOrder.status.MANUAL"),value:"MANUAL"},{label:s("finance.depositOrder.status.REFUNDED"),value:"REFUNDED"},{label:s("finance.depositOrder.status.VERIFY_ERROR"),value:"VERIFY_ERROR"}],de=[{label:"iOS-IAP",value:"iOS-IAP"},{label:"Android-IAP",value:"Android-IAP"},{label:"Web-信用卡",value:"Web-CreditCard"},{label:"Web-ATM",value:"Web-ATM"},{label:"MyCard",value:"MyCard"}],N=p(!1),V=p(null),v=Z({externalId:"",actualAmount:0,files:[]}),P=p(!1),X=p([]),Y=p(!1),ce=[{title:()=>s("finance.depositOrder.table.orderInfo"),key:"id",render:e=>f("div",{class:"order-cell"},[f("div",{class:"order-id font-mono font-bold text-cyan-400"},e.id),f("div",{class:"external-id text-[10px] text-gray-400 mt-0.5"},`EXT: ${e.externalId}`)])},{title:()=>s("finance.depositOrder.table.playerId"),key:"playerId",render:e=>f("div",[f("div",{class:"font-bold"},e.playerId),f("div",{class:"text-xs text-gray-500"},e.account)])},{title:()=>s("finance.depositOrder.table.productChannel"),key:"channel",render:e=>f("div",[f(M,{size:"small",type:"info",bordered:!1,class:"glow-tag-blue"},{default:()=>e.channel}),f("div",{class:"text-[11px] mt-1 text-gray-300"},e.productName)])},{title:()=>s("finance.depositOrder.table.amount"),key:"amount",render:e=>f("div",{class:"amount-stack"},[f("div",{class:"flex justify-between items-center w-32 mb-1"},[f("span",{class:"text-[10px] text-gray-400"},`${s("finance.depositOrder.table.applied")}:`),f("span",{class:"font-mono text-gray-300"},e.amount.toLocaleString())]),f("div",{class:"flex justify-between items-center w-32 border-t border-gray-100/10 pt-1"},[f("span",{class:"text-[10px] text-green-400 font-bold"},`${s("finance.depositOrder.table.actual")}:`),f("span",{class:"font-mono text-green-400 font-bold text-sm"},e.netAmount.toLocaleString())])])},{title:()=>s("finance.depositOrder.table.status"),key:"status",render:e=>f(M,{type:F(e.status),size:"small",round:!0,class:`status-tag-${e.status.toLowerCase()}`},{default:()=>T(e.status)})},{title:()=>s("finance.depositOrder.table.time"),key:"createdAt",render:e=>f("div",{class:"text-xs text-gray-400 font-mono"},new Date(e.createdAt).toLocaleString())},{title:()=>s("finance.depositOrder.table.actions"),key:"actions",align:"center",render:e=>f(se,{justify:"center",size:"small"},{default:()=>[e.status==="PENDING"?f(k,{size:"tiny",ghost:!0,type:"info",onClick:()=>he(e.id)},{default:()=>s("finance.depositOrder.actions.sync")}):null,e.status==="PENDING"||e.status==="FAILED"?f(k,{size:"tiny",type:"info",dashed:!0,onClick:()=>ge(e.id)},{default:()=>s("finance.depositOrder.actions.manual")}):null,f(k,{size:"tiny",tertiary:!0,onClick:()=>be(e.id)},{default:()=>s("finance.depositOrder.actions.logs")})]})}];function F(e){return{PENDING:"warning",SUCCESS:"success",FAILED:"error",EXPIRED:"default",MANUAL:"success",REFUNDED:"info",VERIFY_ERROR:"error"}[e]}function T(e){var l;return((l=ie.find(o=>o.value===e))==null?void 0:l.label)||e}const U=async()=>{b.value=!0;const e=await I.list(x);e.code===0&&e.data&&(G.value=e.data.items,W.value=e.data.total),b.value=!1},ue=async()=>{h.value=!0;const e=await I.stats(x);e.code===0&&e.data&&(a.value=e.data,ee(()=>pe())),h.value=!1},fe=async()=>{g.value=!0;const e=await I.trend(x);e.code===0&&e.data&&(m.value=e.data,ee(()=>me())),g.value=!1};let w=null,O=null,S=null;const pe=()=>{const e={type:"pie",radius:"55%",avoidLabelOverlap:!0,itemStyle:{borderRadius:0},label:{show:!0,position:"outside",color:"#64748b",formatter:`{b}:
{d}%`,fontSize:10},labelLine:{lineStyle:{color:"rgba(0,0,0,0.1)"}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}};L.value&&a.value&&(w||(w=j(L.value)),w.setOption({backgroundColor:"transparent",tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#e2e8f0",textStyle:{color:"#0f172a"}},color:["#0ea5e9","#6366f1","#8b5cf6","#ec4899","#f43f5e","#10b981"],series:[{...e,name:s("finance.depositOrder.charts.segment"),data:a.value.channelDonut}]})),R.value&&a.value&&(O||(O=j(R.value)),O.setOption({backgroundColor:"transparent",tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#e2e8f0",textStyle:{color:"#0f172a"}},color:["#f59e0b","#10b981","#ef4444","#64748b","#3b82f6","#8b5cf6"],series:[{...e,name:s("finance.depositOrder.charts.status"),data:a.value.statusDonut}]}))},me=()=>{$.value&&(S||(S=j($.value)),S.setOption({backgroundColor:"transparent",tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#e2e8f0",textStyle:{color:"#0f172a"},axisPointer:{type:"line",lineStyle:{color:"#e2e8f0",type:"dashed"}}},legend:{data:[s("finance.depositOrder.charts.successAmount"),s("finance.depositOrder.charts.totalOrders"),s("finance.depositOrder.charts.failedCount")],textStyle:{color:"#64748b"},top:0},grid:{left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:{type:"category",data:m.value.map(e=>e.time),axisLine:{lineStyle:{color:"#e2e8f0"}},axisLabel:{color:"#64748b"}},yAxis:[{type:"value",name:"TWD",axisLine:{show:!1},axisLabel:{color:"#64748b"},splitLine:{lineStyle:{color:"#f1f5f9"}}},{type:"value",name:s("finance.depositOrder.stats.orderCount").slice(-2),axisLine:{show:!1},axisLabel:{color:"#64748b"},splitLine:{show:!1}}],series:[{name:s("finance.depositOrder.charts.successAmount"),type:"line",smooth:!0,symbol:"circle",symbolSize:6,itemStyle:{color:"#10b981"},areaStyle:{color:new te(0,0,0,1,[{offset:0,color:"rgba(16, 185, 129, 0.1)"},{offset:1,color:"rgba(16, 185, 129, 0)"}])},data:m.value.map(e=>e.successAmount)},{name:s("finance.depositOrder.charts.totalOrders"),type:"bar",yAxisIndex:1,barWidth:"30%",itemStyle:{color:new te(0,0,0,1,[{offset:0,color:"#3b82f6"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}]),borderRadius:[4,4,0,0]},data:m.value.map(e=>e.totalCount)},{name:s("finance.depositOrder.charts.failedCount"),type:"line",color:"#ef4444",yAxisIndex:1,smooth:!0,lineStyle:{width:2,type:"dotted"},data:m.value.map(e=>e.failedCount)}]}))},q=()=>{U(),ue(),fe()},he=async e=>{const l=await I.sync(e);l.code===0?(i.success(l.msg),U()):i.error(l.msg)},ge=e=>{V.value=e,v.externalId="",v.actualAmount=0,N.value=!0},ve=async()=>{if(!v.externalId||v.actualAmount<=0){i.warning(s("common.fillRequired"));return}(await I.manualComplete(V.value,v)).code===0&&(i.success(s("common.success")),N.value=!1,U())},be=async e=>{P.value=!0,Y.value=!0;const l=await I.logs(e);l.code===0&&l.data&&(X.value=l.data),Y.value=!1};return _e(()=>{q(),window.addEventListener("resize",()=>{w==null||w.resize(),O==null||O.resize(),S==null||S.resize()})}),(e,l)=>(_(),A("div",Ue,[l[13]||(l[13]=t("div",{class:"tech-glow glow-1"},null,-1)),t("div",ze,[r(n(H),{"x-gap":20,"y-gap":20,cols:4},{default:c(()=>[r(n(C),null,{default:c(()=>{var o;return[t("div",Be,[t("div",je,[t("div",null,[t("div",Ge,d(e.$t("finance.depositOrder.stats.successDeposit")),1),t("div",We,[l[8]||(l[8]=t("span",{class:"text-lg text-blue-500"},"¥",-1)),y(" "+d((((o=a.value)==null?void 0:o.totalAmount)||0).toLocaleString()),1)])]),t("div",Ve,[r(n(E),{size:"24"},{default:c(()=>[r(n(De))]),_:1})])]),l[9]||(l[9]=t("div",{class:"mt-4 h-1.5 bg-slate-100 rounded-full overflow-hidden"},[t("div",{class:"h-full bg-blue-500 pulse-anim-light w-[85%]"})],-1))])]}),_:1}),r(n(C),null,{default:c(()=>{var o;return[t("div",Xe,[t("div",Ye,[t("div",null,[t("div",qe,d(e.$t("finance.depositOrder.stats.totalFees")),1),t("div",He,[l[10]||(l[10]=t("span",{class:"text-lg text-indigo-500"},"¥",-1)),y(" "+d((((o=a.value)==null?void 0:o.totalFee)||0).toLocaleString()),1)])]),t("div",Je,[r(n(E),{size:"24"},{default:c(()=>[r(n(Ie))]),_:1})])]),t("div",Ke,[y(d(e.$t("finance.depositOrder.stats.costRatio"))+": ",1),t("span",Qe,d(a.value?(a.value.totalFee/a.value.totalAmount*100).toFixed(2):0)+"%",1)])])]}),_:1}),r(n(C),null,{default:c(()=>{var o;return[t("div",Ze,[t("div",et,[t("div",null,[t("div",tt,d(e.$t("finance.depositOrder.stats.orderCount")),1),t("div",st,[y(d((((o=a.value)==null?void 0:o.totalCount)||0).toLocaleString())+" ",1),l[11]||(l[11]=t("span",{class:"text-xs text-slate-400 pb-1 font-normal italic"},"PCS",-1))])]),t("div",at,[r(n(E),{size:"24"},{default:c(()=>[r(n(Fe))]),_:1})])]),t("div",ot,[t("span",null,d(e.$t("finance.depositOrder.stats.syncStatus")),1),l[12]||(l[12]=t("span",{class:"text-emerald-500"},"● LIVE",-1))])])]}),_:1}),r(n(C),null,{default:c(()=>{var o;return[t("div",lt,[t("div",nt,[t("div",null,[t("div",rt,d(e.$t("finance.depositOrder.stats.performanceRate")),1),t("div",it,d(a.value?((((o=a.value.statusDonut.find(z=>z.name===n(s)("finance.depositOrder.status.SUCCESS")))==null?void 0:o.value)||0)/(a.value.totalCount||1)*100).toFixed(1):0)+"% ",1)]),t("div",dt,[r(n(E),{size:"24"},{default:c(()=>[r(n(Ae))]),_:1})])]),t("div",ct,[t("span",ut,d(e.$t("finance.depositOrder.stats.healthCheck"))+": ",1),t("span",ft,d(e.$t("finance.depositOrder.stats.optimalRange")),1)])])]}),_:1})]),_:1}),r(n(H),{"x-gap":20,"y-gap":20,cols:12},{default:c(()=>[r(n(C),{span:8},{default:c(()=>[t("div",pt,[t("div",mt,[t("span",ht,d(e.$t("finance.depositOrder.charts.analytics")),1)]),t("div",gt,[t("div",{ref_key:"trendChartRef",ref:$,class:"w-full h-[400px]"},null,512)])])]),_:1}),r(n(C),{span:4},{default:c(()=>[t("div",vt,[t("div",bt,[t("div",xt,d(e.$t("finance.depositOrder.charts.segment")),1),t("div",yt,[t("div",{ref_key:"channelDonutRef",ref:L,class:"w-full h-48"},null,512)])]),t("div",_t,[t("div",wt,d(e.$t("finance.depositOrder.charts.status")),1),t("div",Ot,[t("div",{ref_key:"statusDonutRef",ref:R,class:"w-full h-48"},null,512)])])])]),_:1})]),_:1}),t("div",St,[t("div",Ct,[t("div",kt,[t("div",Dt,d(e.$t("finance.depositOrder.filters.range")),1),r(n(Me),{value:x.timeRange,"onUpdate:value":l[0]||(l[0]=o=>x.timeRange=o),type:"daterange",size:"small",class:"tech-picker-light"},null,8,["value"])]),t("div",It,[t("div",At,d(e.$t("finance.depositOrder.filters.subject")),1),r(n(J),{value:x.playerId,"onUpdate:value":l[1]||(l[1]=o=>x.playerId=o),placeholder:e.$t("common.search")+" PID",size:"small",class:"tech-input-light"},null,8,["value","placeholder"])]),t("div",Nt,[t("div",Et,d(e.$t("finance.depositOrder.filters.method")),1),r(n(Le),{value:x.channel,"onUpdate:value":l[2]||(l[2]=o=>x.channel=o),multiple:"",options:de,size:"small",style:{width:"160px"},class:"tech-select-light"},null,8,["value"])]),r(n(k),{type:"info",size:"small",color:"#0369a1",onClick:q,class:"tech-btn-light px-8"},{icon:c(()=>[r(n(E),null,{default:c(()=>[r(n(Ne))]),_:1})]),default:c(()=>[y(" "+d(e.$t("finance.depositOrder.filters.search")),1)]),_:1})]),r(n(Re),{remote:"",loading:b.value,columns:ce,data:G.value,pagination:{page:1,pageSize:15,itemCount:W.value},bordered:!1,class:"tech-table-light"},null,8,["loading","data","pagination"])])]),r(n(Q),{show:N.value,"onUpdate:show":l[6]||(l[6]=o=>N.value=o),title:e.$t("finance.depositOrder.modals.manualTitle"),preset:"card",class:"tech-modal-light",style:{width:"500px"}},{footer:c(()=>[r(n(se),{justify:"end"},{default:c(()=>[r(n(k),{onClick:l[5]||(l[5]=o=>N.value=!1),quaternary:""},{default:c(()=>[y(d(e.$t("finance.depositOrder.modals.discard")),1)]),_:1}),r(n(k),{type:"info",color:"#0369a1",onClick:ve},{default:c(()=>[y(d(e.$t("finance.depositOrder.modals.process")),1)]),_:1})]),_:1})]),default:c(()=>[r(n(we),{model:v,"label-placement":"top"},{default:c(()=>[r(n(K),{label:e.$t("finance.depositOrder.modals.traceId"),required:""},{default:c(()=>[r(n(J),{value:v.externalId,"onUpdate:value":l[3]||(l[3]=o=>v.externalId=o),placeholder:"ID from third-party",class:"tech-input-light"},null,8,["value"])]),_:1},8,["label"]),r(n(K),{label:e.$t("finance.depositOrder.modals.amount"),required:""},{default:c(()=>[r(n($e),{value:v.actualAmount,"onUpdate:value":l[4]||(l[4]=o=>v.actualAmount=o),precision:2,class:"w-full tech-number-light"},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","title"]),r(n(Q),{show:P.value,"onUpdate:show":l[7]||(l[7]=o=>P.value=o),title:e.$t("finance.depositOrder.modals.logsTitle"),preset:"card",class:"tech-modal-light",style:{width:"800px"}},{default:c(()=>[r(n(Ee),{style:{"max-height":"60vh"}},{default:c(()=>[t("div",Mt,[(_(!0),A(Oe,null,Se(X.value,(o,z)=>(_(),A("div",{key:z,class:"log-entry-light border-l-4 border-blue-500 bg-blue-50/50 p-5 rounded-r-xl"},[t("div",Lt,[t("span",Rt,d(o.action),1),t("span",$t,d(o.time),1)]),t("div",Pt,[o.statusBefore?(_(),Ce(n(M),{key:0,size:"tiny",type:F(o.statusBefore),round:""},{default:c(()=>[y(d(T(o.statusBefore)),1)]),_:2},1032,["type"])):B("",!0),o.statusBefore?(_(),A("span",Ft,"➜")):B("",!0),r(n(M),{size:"tiny",type:F(o.statusAfter),round:""},{default:c(()=>[y(d(T(o.statusAfter)),1)]),_:2},1032,["type"])]),o.rawDetail?(_(),A("div",Tt,d(o.rawDetail),1)):B("",!0),t("div",Ut,[t("span",null,"Operator / "+d(o.operator),1),t("span",null,"Node / "+d(o.ip),1)])]))),128))])]),_:1})]),_:1},8,["show","title"])]))}}),ps=ke(zt,[["__scopeId","data-v-97698663"]]);export{ps as default};
